# Matlab 一次物理光学作业


> * MATLAB语句结尾若加上分号```;```，其作用是将计算结果存入内存，但不显示在屏幕上，反之，语句结尾若不加```;```，则表示在语句执行后，在将计算结果存入内存的同时，显示在屏幕上
> * ```axis([xmin, xmax, ymin, ymax])```限定坐标轴的范围，不进行限定的话随图像动态改变
> * ```subplot(m, n, p)``` ```m```表示是图排成```m```行，```n```表示图排成```n```列


### 干涉

> 题目：设波长为632nm的单色平面波垂直照射如图的双缝干涉装置，双缝间距d=0.4mm，单缝到双缝的距离l=5cm，观察屏到双缝距离D=2m，试计算探讨当单缝宽度逐步增大时，观察屏上干涉条纹对比度的变化，并求出其临界宽度。要求用动画显示单缝增宽时干涉条纹的变化。


```matlab
clear
lim = 0.005;
D = 2;          % 孔到光屏的距离
wlen = 632e-9;  % 波长
d = 0.4e-3;     % 两孔距离
l = 0.05;       % 单缝到双缝的距离

%-------------------改变缝宽，计算相对光强-------------------
for j = 1:78
    %-------------------参数计算-------------------
    bc = 0.000001+j*0.000001;                       % 光源宽度
    b = d / l;                                      % 相干孔径角
    dx = 0.00001;                                   % x微元
    x = -lim:dx:lim;                                % 条纹距中心距离
    r1 = sqrt((x - d/2).^2 + D.^2);                 % 光程1
    r2 = sqrt((x + d/2).^2 + D.^2);                 % 光程2
    phi = 2 * pi / wlen * (r2 - r1);                % 光程差对应的相位差
    I = 2 * bc + 2 * (wlen / (pi * b)) * sin(bc * (pi * b / wlen)) * cos(phi);    % 光强
    %-------------------显示-------------------
    fs = 10;                                        % 字符大小
    %-------------------上方曲线-------------------
    subplot(2, 1, 1);
    plot(x, I);                                     % x与i的关系图
    grid on                                         % 打开网格
    axis([-0.005, 0.005, 0e-5, 30e-5])
    title('光强的干涉强度分布', 'fontsize', fs)
    xlabel('x/m', 'fontsize', fs)
    ylabel('相对强度', 'fontsize', fs)
    %-------------------下方光强-------------------
    subplot(2, 1, 2)
    r = linspace(0, 1, 64)';
    g = zeros(size(r));
    b = zeros(size(r));
    colormap([r g b])                               % 64 * 3的colormap
    image(I * (64 / 1.580e-4))
    axis([0, 1000, 0.5, 1.5])
    title('光的干涉条纹', 'fontsize', fs)
    text(0.8, 1.65, '缝宽b=');
    text(100, 1.65, num2str(bc))
    M(:,j) = getframe;

end
```

注释：
> * ```linspace(0, 1, 64)```把从```0```到```1```之间分为```64```分，组成一个行向量，后面加一撇```linspace(0, 1, 64)'```转置为列向量
> * ```r = linspace(0, 1, 64)';```, ```g = zeros(size(r));```, ```b = zeros(size(r));```分别为长度为64的列向量；```colormap([r g b])```中```[r g b]```为```64 * 3```的```colormap```，```colormap```如下：

```
0              0         0
0.0159         0         0
0.0317         0         0
0.0476         0         0
........
0.9841         0         0
1.0000         0         0
```

> * ```colormap([r g b])```下面的```image()```依据定义的```colormap```来绘制，所以```image(1)```就相当于绘制颜色```0 0 0```，```image(2)```就相当于绘制颜色```0.0159 0 0```...以此类推


### 偏振

> 题目：假设一波长为632nm的线偏振光垂直穿过1/4波片(厚度2mm)，试计算当线偏振光E振动方向与波片快轴夹30度和45度角时，输出光的偏振态。并用三维动画显示E穿透波片的演变过程

```matlab
clear;
c = 0.01;               % 光速
w = 0.01 * pi * 2;      % 波长
a = 1;                  % 幅度
angle = pi / 6;         % 与快轴夹脚

for j = 1:3000
    %------------------参数计算------------------
    phi = -j / 10;                              % 运动相位
    i = 1:1:2000;
    y = c * i;                                  % y轴为运动方向
    xo = linspace(0, 0, 2000);                  % o光
    zo = a * cos(angle) * cos(i * w + phi);     % o光
    p = [linspace(0, 0, 500) linspace(1, 1000, 1000) / 1000 * (pi / 2) linspace(pi/2, pi/2, 500)];
    xe = a * sin(angle) * cos(i * w + phi - p); % e光
    ze = linspace(0, 0, 2000);                  % e光
    x = xo + xe;                                % 合光矢
    z = zo + ze;                                % 合光矢
    %------------------显示------------------
    plot3(x, y, z, '-k');
    axis([-1, 1, -2, 22, -1, 1]);
    grid on;
    M(:,j) = getframe;
end
movie(M, 1, 1);
```

> * ```movie(M, n, fps)```，将矩阵M中的动画帧以每秒fps帧的速度播放n次
